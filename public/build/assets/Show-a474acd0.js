import{j as s}from"./app-e8231efd.js";import{I as j}from"./index-47a41a56.js";import{N as v}from"./Navbar-24e658ab.js";const o=({users:i})=>{const a=l=>{const m=l.target.value;m&&(window.location.href=`/mypage/${m}`)};return s.jsxs("div",{children:[s.jsx("h2",{children:"他メンバーを見る"}),s.jsxs("select",{onChange:a,children:[s.jsx("option",{value:"",children:"ユーザーを選択"}),i.map(l=>s.jsx("option",{value:l.id,children:l.name},l.id))]})]})},p=(i,a,l)=>a<30&&l<30?i[0]:a>=30&&a<70&&l>=30&&l<70?i[1]:a>=70&&l>=70?i[2]:null,y=({user:i,users:a,issues:l,feedbacks:m,userSkills:r,character:h})=>{const c=r.find(e=>e.skill.name==="Giver"),n=r.find(e=>e.skill.name==="探求者"),t=r.find(e=>e.skill.name==="ストイック"),d=p(h,(c==null?void 0:c.level)||0,(n==null?void 0:n.level)||0);return console.log(d.image_path),s.jsxs("div",{className:"mypage-bgc mypage-text",children:[s.jsx(v,{}),s.jsxs("div",{className:"flex",children:[s.jsx("p",{children:r.level}),s.jsxs("div",{className:"mycard-left-section overflow-y-auto",children:[s.jsxs("div",{className:"mypage-username-card",children:[s.jsxs("div",{className:"mypage-username-card-leftarea",children:[s.jsxs("h1",{className:"mypage-username",children:[i.name,"'s マイページ"]}),d?s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"mypage-character-name",children:d.name}),s.jsx("h3",{className:"mypage-character-subtitle",children:d.subtitle}),s.jsx("div",{className:"mypage-character-description",children:s.jsx("p",{children:d.description})})]}):s.jsx("p",{children:"No character selected"}),s.jsxs("div",{className:"giver-seeker-level",children:[c&&s.jsxs("div",{className:"mypage-giver-level",children:[s.jsxs("div",{className:"flex skill-text",children:[s.jsx("p",{className:"skill-name",children:c.skill.name}),s.jsxs("div",{className:"levels-container",children:[s.jsx("p",{className:"level-text",children:"Lv. "}),s.jsx("p",{className:"skill-level",children:c.level}),s.jsx("p",{className:"skill-max",children:"/100"})]})]}),s.jsx("div",{className:"skill-progress-container",children:s.jsx("div",{className:"skill-progress-bar",style:{width:`${c.level/100*100}%`}})})]}),n&&s.jsxs("div",{className:"mypage-seeker-level",children:[s.jsxs("div",{className:"flex skill-text",children:[s.jsx("p",{className:"skill-name",children:n.skill.name}),s.jsxs("div",{className:"levels-container",children:[s.jsx("p",{className:"level-text",children:"Lv. "}),s.jsx("p",{className:"skill-level",children:n.level}),s.jsx("p",{className:"skill-max",children:"/100"})]})]}),s.jsx("div",{className:"skill-progress-container",children:s.jsx("div",{className:"skill-progress-bar",style:{width:`${n.level/100*100}%`}})})]}),t&&s.jsxs("div",{className:"mypage-stoic-level",children:[s.jsxs("div",{className:"flex skill-text",children:[s.jsx("p",{className:"skill-name",children:t.skill.name}),s.jsxs("div",{className:"levels-container",children:[s.jsx("p",{className:"level-text",children:"Lv. "}),s.jsx("p",{className:"skill-level",children:t.level}),s.jsx("p",{className:"skill-max",children:"/100"})]})]}),s.jsx("div",{className:"skill-progress-container",children:s.jsx("div",{className:"skill-progress-bar",style:{width:`${t.level/100*100}%`}})})]})]})]}),s.jsxs("div",{className:"mypage-username-card-rightarea",children:[s.jsx(o,{users:a}),s.jsx("img",{src:`/storage/${d.image_path}`,alt:d.name,className:"mypage-character"})]})]}),s.jsx("div",{children:s.jsx("div",{className:"card-container",children:r.map((e,x)=>e.skill.name!=="Giver"&&e.skill.name!=="探求者"&&e.skill.name!=="ストイック"&&s.jsx("div",{className:`skill-card ${x%2===0?"left-card":"right-card"}`,children:s.jsxs("div",{className:"flex",children:[s.jsxs("div",{className:"sales-level-text",children:[s.jsx("h3",{className:"skill-card-name",children:e.skill.name}),s.jsx("p",{children:e.skill.description})]}),s.jsxs("div",{className:"levels-container",children:[s.jsx("p",{className:"level-text",children:"Lv. "}),s.jsx("p",{className:"skill-level",children:e.level}),s.jsx("p",{className:"skill-max",children:"/100"})]}),s.jsx("div",{className:"skill-progress-container",children:s.jsx("div",{className:"skill-progress-bar",style:{width:`${e.level/100*100}%`}})})]})},e.id))})})]}),s.jsxs("div",{className:"mycard-right-section overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"あなたのこれまでの課題"}),l.map(e=>s.jsxs("div",{className:"issue-card",children:[s.jsx("div",{className:"issue-title",children:s.jsx("h3",{children:e.tag.name})}),s.jsx("div",{className:"issue-content",children:s.jsx("p",{children:e.description})})]},e.id))]}),s.jsxs("div",{children:[s.jsx("h2",{children:"あなたがもらったフィードバック"}),m.map(e=>s.jsxs("div",{className:"feedback-card",children:[s.jsx("div",{className:"feedback-title",children:s.jsx("h3",{children:e.issue.tag.name})}),s.jsxs("div",{className:"feedback-content",children:[s.jsx("p",{className:"feedback-text",children:e.content}),s.jsx("p",{className:"feedbacked-by",children:s.jsx(j,{href:`/mypage/${e.user_id}`,children:a.find(x=>x.id===e.user_id).name})})]})]},e.id))]})]})]})]})};export{y as default};
