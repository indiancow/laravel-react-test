import{r as s,j as e}from"./app-fb585706.js";import{d as j}from"./index-2b184432.js";import{N as h}from"./Navbar-a19ff6e4.js";function b(a){const[n,d]=s.useState(""),[l,r]=s.useState(""),[u,x]=s.useState([]),[c,f]=s.useState(null);s.useEffect(()=>{a.tags&&a.tags.length>0&&(x(a.tags),r(a.tags[0].id))},[a.tags]),s.useState(null);const m=async t=>{t.preventDefault();const i=new FormData;i.append("description",n),i.append("tag_id",l),c&&i.append("video",c),j.Inertia.post("/issues",i,{preserveState:!0,only:["tags"],onProgress:o=>console.log(o.loaded/o.total)})};return e.jsxs("div",{className:"back-color",children:[e.jsx(h,{}),e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-white",children:"クエスト作成"}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("form",{onSubmit:m,className:"issue-form",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("label",{children:["クエストジャンル:",e.jsx("select",{value:l,onChange:t=>r(t.target.value),children:u.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("label",{children:["クエストビデオ:",e.jsx("input",{type:"file",onChange:t=>f(t.target.files[0])})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("label",{children:["クエスト内容:",e.jsx("textarea",{value:n,onChange:t=>d(t.target.value)})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",children:"Submit"})})]})})]})}export{b as default};
