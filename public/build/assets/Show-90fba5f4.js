import{r as c,j as s,b as d}from"./app-e1419b62.js";import{N as m}from"./Navbar-abbc73e8.js";import"./index-cfc0c781.js";const j=({gymLeader:r})=>{const[o,i]=c.useState({});console.log(r);const n=(e,t)=>{i(a=>({...a,[e]:t}))},l=async e=>{e.preventDefault();const t=new FormData(e.target);r.questions.forEach(a=>{o[a.id]&&t.append(`answers[${a.id}]`,o[a.id])});try{console.log(r.id),console.log(route("answers.store",r.id)),console.log(t);const a=await d.post(route("answers.store",r.id),t);a.data.redirect_url&&(window.location.href=a.data.redirect_url)}catch(a){console.error("Error:",a)}};return s.jsxs("div",{children:[s.jsx(m,{}),s.jsxs("div",{className:"gymleader-bg",children:[s.jsxs("div",{className:"gymleader-leftarea",children:[s.jsx("div",{children:s.jsx("div",{className:"gymleader-name",children:s.jsx("h1",{className:"",children:r.name})})}),s.jsx("img",{src:`/storage/${r.image_path.split("/").pop()}`,alt:`Image of ${r.name}`,className:"gymleader-image"})]}),s.jsx("div",{className:"gymleader-rightarea",children:s.jsxs("form",{onSubmit:l,children:[r.questions.map(e=>s.jsxs("div",{className:"question-card",children:[s.jsx("p",{children:e.question_text}),s.jsx("textarea",{name:`answers[${e.id}]`,required:!0,value:o[e.id]||"",onChange:t=>n(e.id,t.target.value)})]},e.id)),s.jsx("button",{type:"submit",children:"提出"})]})})]})]})};export{j as default};
