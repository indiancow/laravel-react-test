import{j as e}from"./app-4764e019.js";import{I as j}from"./index-2fb1d4c2.js";import{N as o}from"./Navbar-909ceb01.js";const p=({users:n})=>{const c=a=>{const t=a.target.value;t&&(window.location.href=`/mypage/${t}`)};return e.jsxs("div",{children:[e.jsx("h2",{children:"Other Users"}),e.jsxs("select",{onChange:c,children:[e.jsx("option",{value:"",children:"ユーザーを選択"}),n.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]})},v=(n,c,a)=>c<30&&a<30?n[0]:c>=30&&c<70&&a>=30&&a<70?n[1]:c>=70&&a>=70?n[2]:null,f=({user:n,users:c,issues:a,feedbacks:t,userSkills:d,character:x})=>{const l=d.find(s=>s.skill.name==="Giver"),r=d.find(s=>s.skill.name==="探求者"),m=d.find(s=>s.skill.name==="ストイック"),i=v(x,(l==null?void 0:l.level)||0,(r==null?void 0:r.level)||0);return console.log(i.image_path),e.jsxs("div",{className:"mypage-bgc mypage-text",children:[e.jsx(o,{}),e.jsxs("div",{className:"flex",children:[e.jsx("p",{children:d.level}),e.jsxs("div",{className:"mycard-left-section overflow-y-auto",children:[e.jsxs("div",{className:"mypage-username-card",children:[e.jsxs("div",{className:"mypage-username-card-leftarea",children:[e.jsxs("h1",{className:"mypage-username",children:[n.name,"'s マイページ"]}),i?e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"mypage-character-name",children:i.name}),e.jsx("h3",{className:"mypage-character-subtitle",children:i.subtitle}),e.jsx("div",{className:"mypage-character-description",children:e.jsx("p",{children:i.description})})]}):e.jsx("p",{children:"No character selected"}),e.jsxs("div",{className:"giver-seeker-level",children:[l&&e.jsx("div",{className:"mypage-giver-level",children:e.jsxs("p",{children:[l.skill.name,": Lv ",l.level]})}),r&&e.jsx("div",{className:"mypage-seeker-level",children:e.jsxs("p",{children:[r.skill.name,": Lv ",r.level]})}),m&&e.jsx("div",{className:"mypage-stoic-level",children:e.jsxs("p",{children:[m.skill.name,": Lv ",m.level]})})]})]}),e.jsxs("div",{className:"mypage-username-card-rightarea",children:[e.jsx(p,{users:c}),e.jsx("img",{src:`/storage/${i.image_path}`,alt:i.name,className:"mypage-character"})]})]}),e.jsx("div",{children:e.jsx("div",{className:"card-container",children:d.map((s,h)=>s.skill.name!=="Giver"&&s.skill.name!=="探求者"&&s.skill.name!=="ストイック"&&e.jsx("div",{className:`skill-card ${h%2===0?"left-card":"right-card"}`,children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"skill-card-name",children:s.skill.name}),e.jsx("p",{children:s.skill.description})]}),e.jsx("div",{className:"level-component",children:e.jsxs("p",{children:["レベル: Lv ",e.jsx("span",{className:"skill-card-level",children:s.level})]})})]})},s.id))})})]}),e.jsxs("div",{className:"mycard-right-section overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"あなたのこれまでの課題"}),a.map(s=>e.jsxs("div",{className:"issue-card flex",children:[e.jsx("h3",{children:s.tag.name}),e.jsxs("div",{className:"issue-details",children:[e.jsx("p",{children:s.description}),e.jsx("p",{children:new Date(s.created_at).toLocaleDateString()})]})]},s.id))]}),e.jsxs("div",{children:[e.jsx("h2",{children:"あなたがもらったフィードバック"}),t.map(s=>e.jsxs("div",{className:"feedback-card",children:[e.jsx("h3",{children:s.issue.tag.name}),e.jsx("p",{children:s.content}),e.jsx("p",{children:e.jsx(j,{href:`/mypage/${s.user_id}`,children:c.find(h=>h.id===s.user_id).name})}),e.jsx("p",{children:new Date(s.created_at).toLocaleDateString()})]},s.id))]})]})]})]})};export{f as default};
