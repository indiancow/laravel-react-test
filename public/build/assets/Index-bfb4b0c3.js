import{r as o,j as e}from"./app-33b8671f.js";import{N as h}from"./Navbar-eaf4d9ed.js";import{M as x}from"./Modal-d7a69553.js";import{d as m}from"./index-7e5ddcbd.js";import"./transition-80e1e820.js";const j=({issue:t,onClose:a})=>{const[l,r]=o.useState(""),d=async i=>{console.log("handleSubmit is triggered"),i.preventDefault();try{await m.Inertia.post("/feedbacks",{issue_id:t.id,content:l}),a&&a()}catch(n){console.error("An error occurred while submitting the form:",n)}};return e.jsxs("div",{children:[e.jsxs("p",{children:["依頼者: ",t.author]}),e.jsxs("h1",{children:["課題タグ: ",t.tag]}),e.jsxs("p",{children:["課題: ",t.description]}),e.jsxs("form",{onSubmit:d,onClick:()=>console.log("Form clicked"),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"content",children:"Feedback:"}),e.jsx("textarea",{id:"content",value:l,onChange:i=>r(i.target.value)})]}),e.jsx("button",{type:"submit",onClick:()=>console.log("Button clicked"),children:"Submit"})]})]})},g=({issues:t})=>{console.log(t.data);const[a,l]=o.useState(!1),[r,d]=o.useState(null),i=s=>{d(s),l(!0)},n=()=>{l(!1)},c="http://localhost/storage/";return e.jsxs("div",{children:[e.jsx(h,{}),e.jsxs("div",{className:"issue-big-area",children:[e.jsxs("div",{className:"video-area",children:[e.jsx("h2",{className:"issue-index-title",children:"新着"}),e.jsx("div",{className:"new-videos",children:t.data.filter(s=>s.videoUrl!==c).map(s=>e.jsxs("div",{className:"issue-index-card",children:[e.jsxs("video",{width:"320",height:"240",controls:!0,children:[e.jsx("source",{src:s.videoUrl,type:"video/mp4"}),"Your browser does not support the video tag."]}),e.jsxs("div",{className:"issue-index-card-text",children:[e.jsx("h3",{className:"index-title",children:s.tag})," ",e.jsx("p",{className:"issue-index-card-username",children:s.author})," ",e.jsx("p",{children:s.description}),e.jsx("button",{onClick:()=>i(s),className:"timeline-button",children:"フィードバック"})]})]},s.id))})]}),e.jsxs("div",{className:"video-area",children:[e.jsx("h2",{className:"issue-index-title",children:"すべての動画"}),e.jsx("div",{className:"new-videos",style:{display:"flex",overflowX:"scroll"},children:t.data.filter(s=>s.videoUrl!==c).map(s=>e.jsxs("div",{className:"issue-index-card",children:[e.jsxs("video",{width:"320",height:"240",controls:!0,children:[e.jsx("source",{src:s.videoUrl,type:"video/mp4"}),"Your browser does not support the video tag."]}),e.jsxs("div",{className:"issue-index-card-text",children:[e.jsx("h3",{className:"index-title",children:s.tag}),e.jsxs("p",{className:"issue-index-card-username",children:[" ",s.author]}),e.jsx("p",{children:s.description}),e.jsx("button",{onClick:()=>i(s),className:"timeline-button",children:"フィードバック"})]})]},s.id))})]}),e.jsxs("div",{className:"timeline-container",children:[e.jsx("h2",{className:"issue-index-title",children:"クエスト"}),t.data.filter(s=>s.videoUrl===c).map(s=>e.jsxs("div",{className:"timeline-card",children:[e.jsx("h3",{className:"timeline-title",children:s.tag}),e.jsxs("p",{className:"timeline-username",children:["@",s.author]}),e.jsx("p",{className:"timeline-description",children:s.description}),e.jsx("button",{className:"timeline-button",onClick:()=>i(s),children:"フィードバック"})]}))]})]}),a&&r&&e.jsx(x,{show:a,onClose:()=>l(!1),children:e.jsx(j,{issue:r,onClose:n})})]})};export{g as default};
